<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

</head>
<body>
<canvas id="myChart"></canvas>

</body>
<script>
    const experience = 40000;
    let ctx = document.getElementById('myChart').getContext('2d');
    let chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',
        // The data for our dataset
        data: {
            labels: [],
            datasets: [
                {
                    label: "Current xp",
                    backgroundColor: '#2471ff',
                    borderColor: '#2471ff',
                    data: [],
                },
                {
                    label: "Level difficulty",
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: [],
                }
            ]
        },

        // Configuration options go here
        options: {}
    });
    //XP PRINTOUT
    for (let i = 0; calcLevel(i) <= 50; i++) {
        //console.log("Level: " + calcLevel(i) + ", XP: " + i);
        let levelCalc = (calcLevel(i) % 1);
        if (levelCalc === 0) {
            const label = calcLevel(i).toString();
            if (!chart.data.labels.includes(label)) {
                let x = 0;
                chart.data.labels.push(label);
                //console.log(data);
                chart.data.datasets[1].data.push(i);
                x++;
            }
        }
    }

    function calcLevel(xp) {
        const diff = 40;
        let level = (Math.floor(20 + Math.sqrt(425 + 100 * xp)) / diff) / 2;
        return Math.floor(level);
    }

/*    function test(xp) {
        const diff = 40;
        let lvl = (Math.floor(20 + Math.sqrt(425 + 100 * xp)) / diff) / 2;
        let levelEnd = ((0 - lvl) * xp) / 2;
        chart.data.datasets[0].data.push(xp);
        return Math.floor(levelEnd);
    }*/

    //console.log(test(experience));
    chart.update();
</script>
</html>